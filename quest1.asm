WR_COMANDO	EQU	0000H
WR_DADOS	EQU	0001H

	ORG	00H
	SJMP	INICIO

	ORG	30H
INICIO:	MOV	SP, #2FH
	MOV	R0, #00
	MOV	R1, #00
	MOV	R7, #00H
	CALL	INICIA

LINHA1:	MOV	A, R7
	MOV	DPTR, #MSG1
	MOVC	A, @A+DPTR
	CJNE	A, #0FFH, V1

	MOV	A, #192
	CALL	INSTR_WR
	MOV	R7, #0
LINHA2:	
	MOV	A, R7
	MOV	DPTR, #MSG2
	MOVC	A, @A+DPTR
	CJNE	A, #0FFH, V2
	SJMP $

V1:	CALL	TEXTO_WR
	CALL	ATRASO_LCD
	INC	R7
	SJMP	LINHA1

V2:	CALL	TEXTO_WR
	CALL	ATRASO_LCD
	INC	R7
	SJMP	LINHA2

;INICIALIZAÇÃO DO DISPLAY LCD
INICIA:	MOV	A, #38H
	CALL	INSTR_WR

	MOV	A, #38H
	CALL	INSTR_WR

	MOV	A, #0EH
	CALL	INSTR_WR

	MOV	A, #06H
	CALL	INSTR_WR
	RET

INSTR_WR:
	MOV	DPTR, #WR_COMANDO ;endereço 0000H
	MOVX	@DPTR, A
	CALL	ATRASO_LCD
	RET

TEXTO_WR:
	MOV	DPTR, #WR_DADOS	  ;endereço 0001H
	MOVX	@DPTR, A
	CALL	ATRASO_LCD
	RET

ATRASO_LCD:
	MOV	R4, #10
V6:	MOV	R5, #80
	DJNZ	R5, $
	DJNZ	R4, V6
	RET

MSG1:	DB	'LUIZ YOKOYAMA FELIX DE SOUZA', 0FFH
MSG2:	DB	'201602428', 0FFH

	END
